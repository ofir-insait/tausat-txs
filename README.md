# Flow
1. Run the listening server on the desktop folder:

    ```./server.py```
   
   This will dump the packets to disk to:
   
   ```
   packets/packet_0.bin
   packets/packet_1.bin
   ```

2. Run the packet decoding script on a real packet
```
ofir@Ofirs-MacBook-Pro-2 tausat2 % ./txs_packet_decoder.py new_packets/packet_149.bin
Input file: new_packets/packet_149.bin
Packet type: TAU SAT2, I2C (1)
Payload: b'\x01\x02 \x00\x02\x02\x01\x01\xef\xbe\xad\xde\r\xd0\xba\xda\xef\xbe\xad\xde\r\xd0\xba\xda\xef\xbe\xad\xde\r\xd0\xba\xda\xef\xbe\xad\xde\r\xd0\xba\xda\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'
TAU packet info:
  Type: 1
  Sub type: 2
  Magic (unixtime): 0x01010202
  Length: 32, Orig Length: 32
  Data: efbeadde0dd0badaefbeadde0dd0badaefbeadde0dd0badaefbeadde0dd0bada

ofir@Ofirs-MacBook-Pro-2 tausat2 %
```

3. Run it on a fake packet
```ofir@Ofirs-MacBook-Pro-2 tausat2 % ./txs_packet_decoder.py new_packets/packet_150.bin
Input file: new_packets/packet_150.bin
Packet type: Idle (0)
Payload: b'\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !"#$%&\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8'

ofir@Ofirs-MacBook-Pro-2 tausat2 %
```

# Manual Wireshark flow
1. Run WireShark and listen on ip 132.66.193.14 and UDP port 5005

2. Copy the payload of the 259 bytes from the UDP packets to a text file

3. Add the path of the text file to utilities/test_convert_packet_txt_to_binary.py

4. Run pytest which will convert the text files to binaries
   ```
   pytest .
   ```

5. Run the decode
    ```
    ofir@Ofirs-MacBook-Pro-2 tausat2 % ./txs_packet_decoder.py packets/tausat2_virtual_channel_id_6_0.bin

    ```
